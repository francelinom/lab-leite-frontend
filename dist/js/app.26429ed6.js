(function(e){function t(t){for(var s,o,n=t[0],l=t[1],c=t[2],u=0,m=[];u<n.length;u++)o=n[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&m.push(r[o][0]),r[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);d&&d(t);while(m.length)m.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],s=!0,o=1;o<a.length;o++){var l=a[o];0!==r[l]&&(s=!1)}s&&(i.splice(t--,1),e=n(n.s=a[0]))}return e}var s={},r={app:0},i=[];function o(e){return n.p+"js/"+({}[e]||e)+"."+{c0c4:"234b59ed",c0e9:"53cb8af5","chunk-1768":"6b4aab85"}[e]+".js"}function n(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.e=function(e){var t=[],a=r[e];if(0!==a)if(a)t.push(a[2]);else{var s=new Promise(function(t,s){a=r[e]=[t,s]});t.push(a[2]=s);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,n.nc&&l.setAttribute("nonce",n.nc),l.src=o(e);var c=new Error;i=function(t){l.onerror=l.onload=null,clearTimeout(u);var a=r[e];if(0!==a){if(a){var s=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+s+": "+i+")",c.name="ChunkLoadError",c.type=s,c.request=i,a[1](c)}r[e]=void 0}};var u=setTimeout(function(){i({type:"timeout",target:l})},12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(t)},n.m=e,n.c=s,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var d=c;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var s=a("c21b"),r=a.n(s);r.a},"08f2":function(e,t,a){},"0dc7":function(e,t,a){e.exports=a.p+"img/labLeite.3073c641.png"},2175:function(e,t,a){"use strict";var s=a("f587"),r=a.n(s);r.a},4678:function(e,t,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=i(e);return a(t)}function i(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}r.keys=function(){return Object.keys(s)},r.resolve=i,e.exports=r,r.id="4678"},"4b57":function(e,t,a){"use strict";var s=a("82f9"),r=a.n(s);r.a},"52d3":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("7f10");var s=a("2b0e"),r=a("1dce"),i=a.n(r),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:{"hide-menu":e.isMenuVisible},attrs:{id:"app"}},[a("Header",{attrs:{title:"Lab Leite - Escola Agrícola de Jundiaí/UFRN",hideToggle:!1,hideUserDropdown:!1}}),a("Menu"),a("Content"),a("Footer")],1)},n=[],l=a("2f62"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{staticClass:"header"},[e.hideToggle?e._e():a("a",{staticClass:"toggle",on:{click:e.toggleMenu}},[a("i",{staticClass:"fa fa-lg",class:e.icon})]),a("h1",{staticClass:"title"},[a("router-link",{attrs:{to:"/"}},[e._v(e._s(e.title))])],1),e.hideUserDropdown?e._e():a("UserDropdown")],1)},u=[],d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-dropdown"},[a("div",{staticClass:"user-button"},[a("span",{staticClass:"d-none d-sm-block"},[e._v(e._s(e.user.username))]),a("div",{staticClass:"user-dropdown-img"},[a("Gravatar",{attrs:{email:e.user.username,alt:"User"}})],1),a("i",{staticClass:"fa fa-angle-down"})]),a("div",{staticClass:"user-dropdown-content"},[a("a",{attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.logout(t)}}},[a("i",{staticClass:"fa fa-sign-out"}),e._v(" Sair")])])])},m=[],f="__knowledge_user",b="https://lab-leite-inventory.herokuapp.com/api/v1";function p(e){e&&e.response&&e.response.data?s["a"].toasted.global.defaultError({msg:e.response.data}):"string"===typeof e?s["a"].toasted.global.defaultError({msg:e}):s["a"].toasted.global.defaultError()}var v=a("e06a"),h=a.n(v),g={name:"userDropdown",components:{Gravatar:h.a},computed:Object(l["b"])(["user"]),methods:{logout:function(){localStorage.removeItem(f),this.$store.commit("setUser",null),this.$router.push({name:"auth"})}}},_=g,k=(a("a09f"),a("2877")),$=Object(k["a"])(_,d,m,!1,null,null,null),j=$.exports,y={name:"Header",components:{UserDropdown:j},props:{title:String,hideToggle:Boolean,hideUserDropdown:Boolean},computed:{icon:function(){return this.$store.state.isMenuVisible?"fa-angle-left":"fa-angle-down"}},methods:{toggleMenu:function(){this.$store.commit("toggleMenu")}}},w=y,x=(a("9f34"),Object(k["a"])(w,c,u,!1,null,null,null)),q=x.exports,P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content"},[a("router-view")],1)},O=[],C={name:"Content"},I=C,S=(a("9551"),Object(k["a"])(I,P,O,!1,null,null,null)),E=S.exports,L=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},N=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("footer",{staticClass:"footer"},[a("span",[e._v("Copyright"),a("strong",[e._v(" Lab-Leite ")]),e._v("© 2020")])])}],T={name:"Footer"},D=T,M=(a("2175"),Object(k["a"])(D,L,N,!1,null,null,null)),z=M.exports,A=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("aside",{directives:[{name:"show",rawName:"v-show",value:!e.isMenuVisible,expression:"!isMenuVisible"}],staticClass:"menu"},[s("hr"),s("a",{attrs:{href:"/"}},[s("b-img",{staticClass:"imagem-lab-leite",attrs:{fluid:"",alt:"...",src:a("0dc7"),width:"130px",center:""}})],1),s("hr"),e._m(0)])},U=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"menu"},[a("a",{staticClass:"menu-link",attrs:{href:"/"}},[a("i",{staticClass:"fa fa-fw fa-home"}),a("span",{staticClass:"spanText"},[e._v("Inicio")])]),a("a",{staticClass:"menu-link",attrs:{href:"/admin/itemAdmin"}},[a("i",{staticClass:"fa fa-fw fa-cube"}),a("span",{staticClass:"spanText"},[e._v("Gerenciar Item")])]),a("a",{staticClass:"menu-link",attrs:{href:"/admin/EstoqueAdmin"}},[a("i",{staticClass:"fa fa-fw fa-cubes"}),a("span",{staticClass:"spanText"},[e._v("Gerenciar Estoque")])]),a("a",{staticClass:"menu-link",attrs:{href:"/admin/UserAdmin"}},[a("i",{staticClass:"fa fa-fw fa-users"}),a("span",{staticClass:"spanText"},[e._v("Gerenciar Usuários")])]),a("a",{staticClass:"menu-link",attrs:{href:"/admin/Relatorios"}},[a("i",{staticClass:"fa fa-fw fa-print"}),a("span",{staticClass:"spanText"},[e._v("Relatorios")])])])}],J={name:"Menu",computed:Object(l["b"])(["isMenuVisible"])},F=J,R=(a("4b57"),Object(k["a"])(F,A,U,!1,null,null,null)),W=R.exports,V={name:"App",components:{Header:q,Content:E,Footer:z,Menu:W},computed:Object(l["b"])(["isMenuVisible"])},H=V,G=(a("034f"),Object(k["a"])(H,o,n,!1,null,null,null)),B=G.exports,Q=(a("f9e3"),a("2dd8"),a("9f7b"));s["a"].use(Q["a"]);var K=a("a65d"),X=a.n(K);s["a"].use(X.a,{iconPack:"fontawesome",duration:3e3}),s["a"].toasted.register("defaultSuccess",function(e){return e.msg?e.msg:"Operação Realizada com Sucesso!"},{type:"success",icon:"check"}),s["a"].toasted.register("defaultError",function(e){return e.msg?e.msg:"Erro inesperado... Tente Novamente."},{type:"error",icon:"times"}),s["a"].use(l["a"]);var Y=new l["a"].Store({state:{isMenuVisible:!1,user:{username:""}},mutations:{toggleMenu:function(e,t){e.isMenuVisible=void 0===t?!e.isMenuVisible:t},setUser:function(e,t){e.user=null!==t?t:{}}}}),Z=a("8c4f"),ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("PageTitle",{attrs:{icon:"fa fa-home",main:"Dashboard",sub:"Home do Sistema"}}),a("div",[a("b-card-group",{attrs:{deck:""}},[a("b-card",{staticClass:"text-center",attrs:{"bg-variant":"success","text-variant":"black",header:"Total de itens"}},[a("b-card-text",[e._v("Você possui "),a("b",[e._v(e._s(e.qtdItems))]),e._v(" itens ativos\n          inventário")])],1),a("b-card",{staticClass:"text-center",attrs:{"bg-variant":"info","text-variant":"black",header:"Itens com estoque mínimo"}},[a("b-card-text",[e._v("Você possui "),a("b",[e._v(e._s(e.qtdItemsMinimum))]),e._v(" itens com estoque\n          mínimo")])],1),a("b-card",{staticClass:"text-center",attrs:{"bg-variant":"warning","text-variant":"black",header:"Itens próximos de vencer"}},[a("b-card-text",[e._v("\n          Você possui "),a("b",[e._v(e._s(e.qtdItemsExpetedNear))]),e._v(" itens próximos de\n          vencer\n        ")])],1),a("b-card",{staticClass:"text-center",attrs:{"bg-variant":"secondary","text-variant":"black",header:"Itens Vencidos"}},[a("b-card-text",[e._v("Você possui "),a("b",[e._v(e._s(e.qtdItemsExpeted))]),e._v(" itens vencidos\n        ")])],1)],1)],1)],1)},te=[],ae=(a("96cf"),a("3b8d")),se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-title shadow p-3 mb-5 bg-white rounded"},[a("h1",[e.icon?a("i",{class:e.icon}):e._e(),e._v(e._s(e.main))]),a("h2",[e._v(e._s(e.sub))]),a("hr")])},re=[],ie={name:"PageTitle",props:["icon","main","sub"]},oe=ie,ne=(a("a405"),Object(k["a"])(oe,se,re,!1,null,null,null)),le=ne.exports,ce=a("1232"),ue=(a("8e6e"),a("ac6a"),a("456d"),a("bd86"));function de(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,s)}return a}function me(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?de(Object(a),!0).forEach(function(t){Object(ue["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):de(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function fe(){var e=localStorage.getItem(f);return me({"Content-Type":"application/json"},e&&{Authorization:"JWT ".concat(e)})}function be(e,t,a){return pe.apply(this,arguments)}function pe(){return pe=Object(ae["a"])(regeneratorRuntime.mark(function e(t,a,s){var r,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=me({method:t,headers:fe()},fe("GET"!==t)&&{body:JSON.stringify(s)}),e.next=3,fetch(a,r);case 3:return i=e.sent,e.next=6,i.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e)})),pe.apply(this,arguments)}function ve(e,t){return he.apply(this,arguments)}function he(){return he=Object(ae["a"])(regeneratorRuntime.mark(function e(t,a){var s,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,be("POST","/login/",{username:t,password:a});case 2:s=e.sent,r=s.token,localStorage.set(f,r);case 5:case"end":return e.stop()}},e)})),he.apply(this,arguments)}function ge(){var e=localStorage.getItem(f);if(!e)return!1;try{var t=Object(ce["a"])(e),a=t.exp,s=!!a&&Date.now()>1e3*a;return!s}catch(e){return!1}}var _e=a("bc3a"),ke=a.n(_e),$e={name:"Home",components:{PageTitle:le},data:function(){return{qtdItems:0,qtdItemsMinimum:0,qtdItemsExpeted:0,qtdItemsExpetedNear:0}},methods:{onSubmit:function(){var e=Object(ae["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ve(this.email,this.password);case 2:this.$router.push("/");case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),loadItems:function(){var e=this,t="".concat(b,"/items_total/");ke.a.get(t,{headers:{Authorization:"JWT "+localStorage.getItem(f)}}).then(function(t){e.qtdItems=t.data.length})},loadItemsMinimumStock:function(){var e=this,t="".concat(b,"/items_minimum_stock/");ke.a.get(t,{headers:{Authorization:"JWT "+localStorage.getItem(f)}}).then(function(t){e.qtdItemsMinimum=t.data.length})},loadItemsexpired:function(){var e=this,t="".concat(b,"/items_expired/");ke.a.get(t,{headers:{Authorization:"JWT "+localStorage.getItem(f)}}).then(function(t){e.qtdItemsExpeted=t.data.length})},loadItemsNearExpires:function(){var e=this,t="".concat(b,"/items_near_expires/");ke.a.get(t,{headers:{Authorization:"JWT "+localStorage.getItem(f)}}).then(function(t){e.qtdItemsExpetedNear=t.data.length})},updateTable:function(){this.loadItems(),this.loadItemsMinimumStock(),this.loadItemsexpired(),this.loadItemsNearExpires()}},mounted:function(){this.loadItems(),this.loadItemsMinimumStock(),this.loadItemsexpired(),this.loadItemsNearExpires()}},je=$e,ye=Object(k["a"])(je,ee,te,!1,null,null,null),we=ye.exports,xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"item-admin"},[a("PageTitle",{attrs:{main:"Gerenciar Itens",icon:"fa fa-cube"}}),a("b-card",{attrs:{title:"Ações"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-formulario-item",modifiers:{"modal-formulario-item":!0}}],attrs:{variant:"primary"}},[e._v("Cadastar Item")]),a("hr"),a("b-modal",{ref:"modal-formulario-item",attrs:{id:"modal-formulario-item",title:"Inserir dados do Item",size:"lg","hide-footer":""}},[a("b-form",{staticClass:"card-body"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.item.id,expression:"item.id"}],attrs:{id:"item-id",type:"hidden"},domProps:{value:e.item.id},on:{input:function(t){t.target.composing||e.$set(e.item,"id",t.target.value)}}}),a("div",{staticClass:"alert alert-info",attrs:{role:"alert"}},[a("h6",[e._v("Todos os campos marcados com (*) são obrigatório")])]),a("b-row",[a("b-col",{attrs:{md:"6",ms:"12"}},[a("b-form-group",{attrs:{label:"Nome do Item *","label-for":"item-name"}},[a("b-form-input",{class:{"is-invalid":e.$v.item.name.$error,"is-valid":!e.$v.item.name.$invalid},attrs:{id:"item-name",type:"text",readonly:"remove"===e.mode,placeholder:"Informe o Nome do Item"},on:{change:function(t){e.$v.item.name.$touch()}},model:{value:e.item.name,callback:function(t){e.$set(e.item,"name",t)},expression:"item.name"}}),a("span",{staticClass:"valid-feedback"},[e._v("Nome é valido")]),a("span",{staticClass:"invalid-feedback"},[e._v("Preencher o campo")])],1)],1),a("b-col",{attrs:{md:"6",ms:"12"}},[a("b-form-group",{attrs:{label:"Unidade de Medida *","label-for":"item-unidade"}},[a("b-form-select",{staticClass:"mb-3",class:{"is-invalid":e.$v.item.unit.$error,"is-valid":!e.$v.item.unit.$invalid},attrs:{id:"item-unidade",type:"text",options:e.options,"value-field":"item","text-field":"name","disabled-field":"notEnabled"},on:{change:function(t){e.$v.item.unit.$touch()}},model:{value:e.item.unit,callback:function(t){e.$set(e.item,"unit",t)},expression:"item.unit"}}),a("span",{staticClass:"valid-feedback"},[e._v("unidade valido")]),a("span",{staticClass:"invalid-feedback"},[e._v("Preencher o campo")])],1)],1),a("b-col",{attrs:{md:"6",ms:"12"}},[a("b-form-group",{attrs:{label:"Marca *","label-for":"item-marca"}},[a("b-form-input",{class:{"is-invalid":e.$v.item.brand.$error,"is-valid":!e.$v.item.brand.$invalid},attrs:{id:"item-marca",type:"text",required:"",readonly:"remove"===e.mode,placeholder:"Informe a marca do Item"},on:{change:function(t){e.$v.item.brand.$touch()}},model:{value:e.item.brand,callback:function(t){e.$set(e.item,"brand",t)},expression:"item.brand"}}),a("span",{staticClass:"valid-feedback"},[e._v("Nome é valido")]),a("span",{staticClass:"invalid-feedback"},[e._v("Preencher o campo")])],1)],1),a("b-col",{attrs:{md:"6",ms:"12"}},[a("b-form-group",{attrs:{label:"Preço de custo *","label-for":"item-preco"}},[a("b-form-input",{class:{"is-invalid":e.$v.item.cost_value.$error,"is-valid":!e.$v.item.cost_value.$invalid},attrs:{id:"item-preco",type:"number",required:"",readonly:"remove"===e.mode,placeholder:"Informe o Preço de custo do Item"},on:{change:function(t){e.$v.item.cost_value.$touch()}},model:{value:e.item.cost_value,callback:function(t){e.$set(e.item,"cost_value",t)},expression:"item.cost_value"}}),a("span",{staticClass:"valid-feedback"},[e._v("Nome é valido")]),a("span",{staticClass:"invalid-feedback"},[e._v("Preencher o campo")])],1)],1),a("b-col",{attrs:{md:"6",ms:"12"}},[a("b-form-group",{attrs:{label:"Estoque Atual *","label-for":"item-estoque"}},[a("b-form-input",{class:{"is-invalid":e.$v.item.current_inventory.$error,"is-valid":!e.$v.item.current_inventory.$invalid},attrs:{id:"item-estoque",type:"number",required:"",readonly:"remove"===e.mode,placeholder:"Informe o estoque atual do Item"},on:{change:function(t){e.$v.item.current_inventory.$touch()}},model:{value:e.item.current_inventory,callback:function(t){e.$set(e.item,"current_inventory",t)},expression:"item.current_inventory"}}),a("span",{staticClass:"valid-feedback"},[e._v("Valor é valido")]),a("span",{staticClass:"invalid-feedback"},[e._v("Preencher o campo")])],1)],1),a("b-col",{attrs:{md:"6",ms:"12"}},[a("b-form-group",{attrs:{label:"Estoque Mínimo *","label-for":"item-minimo"}},[a("b-form-input",{class:{"is-invalid":e.$v.item.minimum_stock.$error,"is-valid":!e.$v.item.minimum_stock.$invalid},attrs:{id:"item-minimo",type:"number",required:"",readonly:"remove"===e.mode,placeholder:"Informe o estoque Mínimo"},on:{change:function(t){e.$v.item.minimum_stock.$touch()}},model:{value:e.item.minimum_stock,callback:function(t){e.$set(e.item,"minimum_stock",t)},expression:"item.minimum_stock"}}),a("span",{staticClass:"valid-feedback"},[e._v("Valor é valido")]),a("span",{staticClass:"invalid-feedback"},[e._v("Preencher o campo")])],1)],1),a("b-row",{directives:[{name:"show",rawName:"v-show",value:"save"===e.mode,expression:"mode === 'save'"}],staticClass:"px-3"},[a("b-col",[a("b-form-group",{attrs:{label:"Data de validade","label-for":"item-data-validade"}},[a("b-form-input",{attrs:{id:"item-data-validade",type:"date",required:""},model:{value:e.item.validaty,callback:function(t){e.$set(e.item,"validaty",t)},expression:"item.validaty"}})],1)],1)],1)],1)],1),a("div",{staticClass:"modal-footer"},[a("b-button",{attrs:{variant:"warning "},on:{click:[function(t){e.clearForm()},function(t){t.preventDefault(),e.$v.$reset()}]}},[e._v(" Limpar Campos")]),a("b-button",{attrs:{variant:"danger"},on:{click:[function(t){e.hideModal()},function(t){t.preventDefault(),e.$v.$reset()}]}},[e._v(" Cancelar")]),a("b-button",{attrs:{variant:"success"},on:{click:[function(t){e.save()},function(t){t.preventDefault(),e.$v.$touch()}]}},[e._v(" Salvar")])],1)],1),a("div",{staticClass:"option-table"},[a("b-row",[a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Itens por página"}},[a("b-form-select",{staticClass:"mb-3",attrs:{id:"item-por-pagina",type:"text",options:e.optionsperpage,"value-field":"item","text-field":"name","disabled-field":"notEnabled"},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1),a("b-col",{attrs:{md:"5",offset:"0"}},[a("label",[e._v("Pesquisa")]),a("b-input-group",[a("b-form-input",{attrs:{md:"9",id:"campoPesquisa",type:"search",placeholder:"nome, marca, data ou qualquer outro valor"},model:{value:e.termoPesquisa,callback:function(t){e.termoPesquisa=t},expression:"termoPesquisa"}}),a("b-form-group-append",[a("b-button",{attrs:{type:"reset",variant:"danger"},on:{click:function(t){e.clearSearch()}}},[e._v("Limpar")])],1)],1)],1)],1)],1),a("hr"),a("b-table",{attrs:{id:"table-items",hover:"",striped:"",filter:e.termoPesquisa,items:e.items,fields:e.fields,"per-page":e.perPage,"current-page":e.currentPage,small:""},on:{filtered:e.onFiltered},scopedSlots:e._u([{key:"actions",fn:function(t){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-formulario-item",modifiers:{"modal-formulario-item":!0}}],staticClass:"mr-2",attrs:{variant:"warning"},on:{click:function(a){e.loadItem(t.item)}}},[a("i",{staticClass:"fa fa-pencil"})]),a("b-button",{attrs:{variant:"danger"},on:{click:function(a){e.remove(t.item)}}},[a("i",{staticClass:"fa fa-trash"})])]}}])}),a("b-pagination",{attrs:{"total-rows":e.rows,"per-page":e.perPage,"aria-controls":"table-items","first-text":"Primeiro","prev-text":"Anterior","next-text":"Próximo","last-text":"Último"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)},qe=[],Pe=(a("7f7f"),a("b5ae"));function Oe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,s)}return a}function Ce(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(a),!0).forEach(function(t){Object(ue["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Oe(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Ie={name:"ItemAdmin",components:{PageTitle:le},data:function(){return{termoPesquisa:null,mode:"save",perPage:5,currentPage:1,item:{name:"",unit:"",brand:"",cost_value:"",current_inventory:"",minimum_stock:"",validaty:""},items:[],fields:[{key:"id",label:"ID",sortable:!0},{key:"name",label:"Nome",sortable:!0},{key:"unit",label:"Unidade",sortable:!0},{key:"brand",label:"Marca",sortable:!0},{key:"cost_value",label:"Preço de custo",sortable:!0},{key:"current_inventory",label:"E. Atual",sortable:!0},{key:"minimum_stock",label:"Estoque Mín",sortable:!0},{key:"validaty",label:"Validade",sortable:!0},{key:"actions",label:"Ações"}],options:[{item:0,name:"UND"},{item:1,name:"G"},{item:2,name:"MG"},{item:3,name:"L"},{item:4,name:"ML"},{item:5,name:"KL"}],optionsperpage:[{item:5,name:"5"},{item:10,name:"10"},{item:15,name:"15"},{item:20,name:"20"},{item:25,name:"25"},{item:30,name:"30"}]}},validations:{item:{name:{required:Pe["required"],minLength:Object(Pe["minLength"])(5),maxLength:Object(Pe["maxLength"])(100)},unit:{required:Pe["required"]},brand:{required:Pe["required"],maxLength:Object(Pe["maxLength"])(100)},cost_value:{required:Pe["required"]},current_inventory:{required:Pe["required"]},minimum_stock:{required:Pe["required"],maxLength:Object(Pe["maxLength"])(16)}}},computed:{rows:function(){return this.items.length}},methods:{hideModal:function(){this.$refs["modal-formulario-item"].hide(),this.reset()},clearForm:function(){this.mode="save",this.item={}},loadItems:function(){var e=this,t="".concat(b,"/items_total/");ke.a.get(t,{headers:{Authorization:"JWT "+localStorage.getItem(f)}}).then(function(t){e.items=t.data})},reset:function(){this.mode="save",this.item={},this.loadItems()},save:function(){var e=this;this.$v.item.$invalid||(void 0===this.item.id?ke.a.post("".concat(b,"/add_item/"),this.item,{headers:{Authorization:"JWT "+localStorage.getItem(f)}}).then(function(){e.$toasted.global.defaultSuccess(),e.hideModal(),e.reset(),e.loadItems(),e.$v.$reset()}).catch(p):ke.a.put("".concat(b,"/items/").concat(this.item.id),this.item,{headers:{Authorization:"JWT "+localStorage.getItem(f)}}).then(function(){e.$toasted.global.defaultSuccess(),e.hideModal(),e.reset(),e.loadItems()}).catch(function(){alert("Não foi possivel realizar a operação")}))},update:function(){var e=this;ke.a.put("".concat(b,"/items/").concat(this.item.id),this.item,{headers:{Authorization:"JWT "+localStorage.getItem(f)}}).then(function(){e.$toasted.global.defaultSuccess(),e.reset(),e.loadItems()}).catch(function(){alert("Não foi possivel realizar a operação")})},remove:function(e){var t=this;this.item=Ce({},e),confirm("Desejar realmente deletar o item ".concat(this.item.id,"?"))&&ke.a.put("".concat(b,"/item_deactivate/").concat(this.item.id),this.item,{headers:{Authorization:"JWT "+localStorage.getItem(f)}}).then(function(){t.$toasted.global.defaultSuccess(),t.reset(),t.loadItems()}).catch(function(){alert("Não foi possivel realizar a operação")})},loadItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"save";this.mode=t,this.item=Ce({},e);for(var a=0;a<this.options.length;a++)this.item.unit==this.options[a].name&&(this.item.unit=this.options[a].item)},clearSearch:function(){this.termoPesquisa=""},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1}},mounted:function(){this.loadItems()}},Se=Ie,Ee=Object(k["a"])(Se,xe,qe,!1,null,null,null),Le=Ee.exports,Ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"estoque-admin"},[a("PageTitle",{attrs:{main:"Gerenciar Estoque"}}),a("b-card",{attrs:{title:"Opções da Tabela","blank-color":"transparent"}},[a("b-button-group",[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal_1",modifiers:{modal_1:!0}}],attrs:{variant:"primary"}},[e._v("Criar Estoque")]),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal_item",modifiers:{modal_item:!0}}],attrs:{variant:"success"}},[e._v("Realizar Entrada/Saída")])],1),a("hr"),a("b-modal",{ref:"modal_1",attrs:{id:"modal_1",title:"Novo Estoque","hide-footer":""}},[a("b-form",{ref:"form_modal_1"},[a("b-row",[a("b-col",{attrs:{md:"6",ms:"12"}},[a("b-form-group",{attrs:{label:"Identificação","label-for":"estoque-nf"}},[a("b-form-input",{class:{"is-invalid":e.$v.stock.nf.$error,"is-valid":!e.$v.stock.nf.$invalid},attrs:{id:"estoque-nf",type:"number",required:"",placeholder:"Informe a nota fiscal"},on:{change:function(t){e.$v.stock.nf.$touch()}},model:{value:e.stock.nf,callback:function(t){e.$set(e.stock,"nf",t)},expression:"stock.nf"}})],1)],1),a("b-col",{attrs:{md:"6",ms:"12"}},[a("b-form-group",{attrs:{label:"Tipo de Movimento","label-for":"estoque-tipo"}},[a("b-form-select",{staticClass:"mb-3",class:{"is-invalid":e.$v.stock.movement.$error,"is-valid":!e.$v.stock.movement.$invalid},attrs:{id:"estoque-tipo",options:e.options,"value-field":"item","text-field":"name","disabled-field":"notEnabled"},on:{change:function(t){e.$v.stock.movement.$touch()}},model:{value:e.stock.movement,callback:function(t){e.$set(e.stock,"movement",t)},expression:"stock.movement"}})],1)],1)],1)],1),a("div",{staticClass:"modal-footer"},[a("b-button",{attrs:{variant:"warning "},on:{click:[function(t){e.clearForm1()},function(t){t.preventDefault(),e.$v.$reset()}]}},[e._v("\n        Limpar Campos")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){e.hideModal1()}}},[e._v(" Cancelar")]),"save"===e.mode?a("b-button",{attrs:{variant:"success"},on:{click:[function(t){e.save_stock()},function(t){t.preventDefault(),e.$v.$touch()}]}},[e._v("\n        Salvar")]):e._e()],1)],1),a("b-modal",{ref:"modal_item",attrs:{id:"modal_item",title:"Operação de Entrada/Saída","hide-footer":""}},[a("b-form",{ref:"form_modal_2"},[a("div",{staticClass:"alert alert-info",attrs:{role:"alert"}},[a("h6",[e._v("Todos os campos marcados com (*) são obrigatório")])]),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{label:"Nome do Item *","label-for":"estoque-name"}},[a("b-form-input",{staticClass:"mb-3",class:{"is-invalid":e.$v.stock_item.item.$error,"is-valid":!e.$v.stock_item.item.$invalid},attrs:{id:"estoque-name",list:"list_item","value-field":"item","text-field":"name","disabled-field":"notEnabled",options:e.options_item},on:{change:function(t){e.$v.stock_item.item.$touch()}},model:{value:e.stock_item.item,callback:function(t){e.$set(e.stock_item,"item",t)},expression:"stock_item.item"}},[a("span",{staticClass:"valid-feedback"},[e._v("unidade valido")]),a("span",{staticClass:"invalid-feedback"},[e._v("Selecionar o campo")])]),a("datalist",{attrs:{id:"list_item"}},e._l(e.items,function(t){return a("option",{key:t.id,attrs:{"data-text":t.name},domProps:{value:t.id}},[e._v("\n              "+e._s(t.name)+"\n              ")])}))],1)],1),a("b-col",{attrs:{md:"6",ms:"12"}},[a("b-form-group",{attrs:{label:"Identificação Estoque *","label-for":"estoque-id"}},[a("b-form-select",{staticClass:"mb-3",class:{"is-invalid":e.$v.stock_item.stock.$error,"is-valid":!e.$v.stock_item.stock.$invalid},attrs:{id:"estoque-id",type:"number","value-field":"item","text-field":"name","disabled-field":"notEnabled",options:e.options_stock},on:{change:function(t){e.$v.stock_item.stock.$touch()}},model:{value:e.stock_item.stock,callback:function(t){e.$set(e.stock_item,"stock",t)},expression:"stock_item.stock"}},[a("span",{staticClass:"valid-feedback"},[e._v("unidade valido")]),a("span",{staticClass:"invalid-feedback"},[e._v("Selecionar o campo")]),e._l(e.stocks,function(t){return a("option",{key:t.id,attrs:{select:t.id},domProps:{value:t.id}},[e._v("\n                "+e._s(t.nf)+"\n              ")])})],2)],1)],1),a("b-col",{attrs:{md:"6",ms:"12"}},[a("b-form-group",{attrs:{label:"Quantidade *","label-for":"estoque-quantidade"}},[a("b-form-input",{class:{"is-invalid":e.$v.stock_item.qtd.$error,"is-valid":!e.$v.stock_item.qtd.$invalid},attrs:{id:"estoque-quantidade",type:"number",required:"",placeholder:"Informe a quantidade"},on:{change:function(t){e.$v.stock_item.qtd.$touch()}},model:{value:e.stock_item.qtd,callback:function(t){e.$set(e.stock_item,"qtd",t)},expression:"stock_item.qtd"}}),a("span",{staticClass:"valid-feedback"},[e._v("Valor é valido")]),a("span",{staticClass:"invalid-feedback"},[e._v("Preencher o campo")])],1)],1)],1)],1),a("div",{staticClass:"modal-footer"},[a("b-button",{attrs:{variant:"warning "},on:{click:[function(t){e.clearForm2()},function(t){t.preventDefault(),e.$v.$reset()}]}},[e._v("\n        Limpar Campos")]),a("b-button",{attrs:{variant:"danger"},on:{click:[function(t){e.hideModal2()},function(t){t.preventDefault(),e.$v.$reset()}]}},[e._v("\n        Cancelar")]),a("b-button",{attrs:{variant:"success"},on:{click:[function(t){e.save_stock_item()},function(t){t.preventDefault(),e.$v.$touch()}]}},[e._v("\n        Salvar")])],1)],1),a("div",{staticClass:"option-table"},[a("b-row",[a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Itens por página"}},[a("b-form-select",{staticClass:"mb-3",attrs:{id:"item-por-pagina",type:"text",options:e.optionsperpage,"value-field":"item","text-field":"name","disabled-field":"notEnabled"},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1),a("b-col",{attrs:{md:"5",offset:"0"}},[a("label",[e._v("Pesquisa")]),a("b-input-group",[a("b-form-input",{attrs:{md:"9",id:"campoPesquisa",type:"search",placeholder:"nome, data ou qualquer outro valor"},model:{value:e.termoPesquisa,callback:function(t){e.termoPesquisa=t},expression:"termoPesquisa"}}),a("b-form-group-append",[a("b-button",{staticClass:"ml-2",attrs:{type:"reset",variant:"danger"},on:{click:function(t){e.clearSearch()}}},[e._v("Limpar")])],1)],1)],1)],1),a("hr")],1),a("b-table",{attrs:{id:"tabelaItens",hover:"",striped:"",filter:e.termoPesquisa,items:e.estoques,fields:e.fields,"per-page":e.perPage,"current-page":e.currentPage,small:""},on:{filtered:e.onFiltered},scopedSlots:e._u([{key:"actions",fn:function(t){return[a("b-button",{attrs:{variant:"danger"},on:{click:function(a){e.remove(t.item)}}},[a("i",{staticClass:"fa fa-reply"})])]}}])}),a("b-pagination",{attrs:{"total-rows":e.rows,"per-page":e.perPage,"aria-controls":"tabelaItens","first-text":"Primeiro","prev-text":"Anterior","next-text":"Próximo","last-text":"Último"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)},Te=[];function De(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,s)}return a}function Me(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?De(Object(a),!0).forEach(function(t){Object(ue["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):De(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var ze={name:"EstoqueAdmin",components:{PageTitle:le},data:function(){return{termoPesquisa:null,mode:"save",perPage:5,currentPage:1,items:[],stocks:[],stock:{nf:"",movement:""},stock_item:{stock:"",item:"",qtd:""},fields:[{key:"id",label:"Código",sortable:!0},{key:"item_name",label:"Item",sortable:!0},{key:"stock",label:"Stock",sortable:!0},{key:"movement",label:"Movimento",sortable:!0},{key:"qtd",label:"Quantidade",sortable:!0},{key:"actions",label:"Desfazer"}],options:[{item:0,name:"ENTRADA"},{item:1,name:"SAÍDA"}],options_item:[],options_stock:[],estoques:[],optionsperpage:[{item:5,name:"5"},{item:10,name:"10"},{item:15,name:"15"},{item:20,name:"20"},{item:25,name:"25"},{item:30,name:"30"}]}},validations:{stock:{nf:{required:Pe["required"]},movement:{required:Pe["required"]}},stock_item:{stock:{required:Pe["required"]},item:{required:Pe["required"]},qtd:{required:Pe["required"]}}},computed:{rows:function(){return this.estoques.length}},methods:{hideModal1:function(){this.$refs["modal_1"].hide(),this.reset()},hideModal2:function(){this.$refs["modal_item"].hide(),this.reset()},loadStocks:function(){var e=this,t="".concat(b,"/stocks/");ke.a.get(t,{headers:{Authorization:"JWT "+localStorage.getItem(f)}}).then(function(t){e.stocks=t.data})},loadItems:function(){var e=this,t="".concat(b,"/items_total/");ke.a.get(t,{headers:{Authorization:"JWT "+localStorage.getItem(f)}}).then(function(t){e.items=t.data})},loadEstoques:function(){var e=this,t="".concat(b,"/totalstocks/");ke.a.get(t,{headers:{Authorization:"JWT "+localStorage.getItem(f)}}).then(function(t){e.estoques=t.data})},reset:function(){this.stock_item={},this.stock={}},save_stock:function(){var e=this;this.$v.stock.$invalid||ke.a.post("".concat(b,"/addstock/"),this.stock,{headers:{Authorization:"JWT "+localStorage.getItem(f)}}).then(function(){e.$toasted.global.defaultSuccess(),e.loadStocks(),e.loadItems(),e.reset(),e.hideModal1(),e.$v.$reset()}).catch(function(){alert("Não foi possivel realizar a operação")})},save_stock_item:function(){var e=this;this.$v.stock_item.$invalid||ke.a.post("".concat(b,"/additemstock/"),this.stock_item,{headers:{Authorization:"JWT "+localStorage.getItem(f)}}).then(function(){e.$toasted.global.defaultSuccess(),e.loadEstoques(),e.reset(),e.hideModal2(),e.$v.$reset()}).catch(function(){alert("Não foi possivel realizar a operação")})},remove:function(e){var t=this;this.stock_item=Me({},e),confirm("Desejar realmente deletar o stock_item ".concat(this.stock_item.id,"?"))&&ke.a.put("".concat(b,"/deactivateitemstock/").concat(this.stock_item.id),this.stock_item,{headers:{Authorization:"JWT "+localStorage.getItem(f)}}).then(function(){t.$toasted.global.defaultSuccess(),t.reset(),t.loadEstoques()}).catch(function(){alert("Não foi possivel realizar a operação")})},clearForm1:function(){this.stock=""},clearForm2:function(){this.stock_item=""},clearSearch:function(){this.termoPesquisa=""},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1}},mounted:function(){this.loadEstoques(),this.loadStocks(),this.loadItems()}},Ae=ze,Ue=Object(k["a"])(Ae,Ne,Te,!1,null,null,null),Je=Ue.exports,Fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-admin"},[a("PageTitle",{attrs:{main:"Gerenciar Usuários",icon:"fa fa-users"}}),a("b-card",{attrs:{title:"Ações:"}},[a("b-button-group",[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}],attrs:{variant:"primary"}},[e._v("Cadastrar Usuário")])],1),a("b-modal",{ref:"modal-1",attrs:{id:"modal-1",title:"Cadastrando novo usuário","hide-footer":""}},[a("b-form",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.id,expression:"user.id"}],attrs:{id:"user-id",type:"hidden"},domProps:{value:e.user.id},on:{input:function(t){t.target.composing||e.$set(e.user,"id",t.target.value)}}}),a("div",{staticClass:"alert alert-info",attrs:{role:"alert"}},[a("h6",[e._v("Todos os campos marcados com (*) são obrigatório")])]),a("b-row",[a("b-col",{attrs:{md:"6",ms:"12"}},[a("b-form-group",{attrs:{label:"Primeiro nome *","label-for":"user-first"}},[a("b-form-input",{class:{"is-invalid":e.$v.user.first_name.$error,"is-valid":!e.$v.user.first_name.$invalid},attrs:{id:"user-name",type:"text",required:"",readonly:"remove"===e.mode,placeholder:"Informe o nome do Usuário"},on:{change:function(t){e.$v.user.firstname.$touch()}},model:{value:e.user.first_name,callback:function(t){e.$set(e.user,"first_name",t)},expression:"user.first_name"}}),a("span",{staticClass:"valid-feedback"},[e._v("Nome é valido")]),a("span",{staticClass:"invalid-feedback"},[e._v("Preencher o campo")])],1)],1),a("b-col",{attrs:{md:"6",ms:"12"}},[a("b-form-group",{attrs:{label:"Sobrenome *","label-for":"user-last"}},[a("b-form-input",{class:{"is-invalid":e.$v.user.last_name.$error,"is-valid":!e.$v.user.last_name.$invalid},attrs:{id:"user-last",type:"text",required:"",readonly:"remove"===e.mode,placeholder:"Informe o sobrenome"},on:{change:function(t){e.$v.user.email.$touch()}},model:{value:e.user.last_name,callback:function(t){e.$set(e.user,"last_name",t)},expression:"user.last_name"}}),a("span",{staticClass:"valid-feedback"},[e._v("Sobrenome é valido")]),a("span",{staticClass:"invalid-feedback"},[e._v("Preencher o sobrenome")])],1)],1)],1),a("b-row",[a("b-col",{attrs:{md:"6",ms:"12"}},[a("b-form-group",{attrs:{label:"Nome Usuário *","label-for":"user-name"}},[a("b-form-input",{class:{"is-invalid":e.$v.user.username.$error,"is-valid":!e.$v.user.username.$invalid},attrs:{id:"user-name",type:"text",required:"",readonly:"remove"===e.mode,placeholder:"Informe um nome de Usuário"},on:{change:function(t){e.$v.user.username.$touch()}},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}}),a("span",{staticClass:"valid-feedback"},[e._v("Nome de usuário é valido")]),a("span",{staticClass:"invalid-feedback"},[e._v("Preencher o nome de Usuário")])],1)],1),a("b-col",{attrs:{md:"6",ms:"12"}},[a("b-form-group",{attrs:{label:"E-mail *","label-for":"user-email"}},[a("b-form-input",{class:{"is-invalid":e.$v.user.email.$error,"is-valid":!e.$v.user.email.$invalid},attrs:{id:"user-email",type:"text",required:"",readonly:"remove"===e.mode,placeholder:"Informe o E-mail do Usuário"},on:{change:function(t){e.$v.user.email.$touch()}},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),a("span",{staticClass:"valid-feedback"},[e._v("E-mail é valido")]),a("span",{staticClass:"invalid-feedback"},[e._v("Preencher o E-mail")])],1)],1)],1),a("b-row",[a("b-col",{attrs:{md:"6",ms:"12"}},[a("b-form-checkbox",{directives:[{name:"show",rawName:"v-show",value:"save"===e.mode,expression:"mode === 'save'"}],staticClass:"mt-3 mb-3",attrs:{id:"user-admin"},model:{value:e.user.admin,callback:function(t){e.$set(e.user,"admin",t)},expression:"user.admin"}},[e._v("\n                        Administrador ?\n                    ")])],1)],1),a("b-row",{directives:[{name:"show",rawName:"v-show",value:"save"===e.mode,expression:"mode === 'save'"}]},[a("b-col",{attrs:{md:"6",ms:"12"}},[a("b-form-group",{attrs:{label:"Senha *","label-for":"user-password"}},[a("b-form-input",{class:{"is-invalid":e.$v.user.password.$error,"is-valid":!e.$v.user.password.$invalid},attrs:{id:"user-password",type:"password",required:"",placeholder:"Informe a senha"},on:{change:function(t){e.$v.user.password.$touch()}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),a("span",{staticClass:"valid-feedback"},[e._v("Senha é valido")]),a("span",{staticClass:"invalid-feedback"},[e._v("Preencher a Senha")])],1)],1),a("b-col",{attrs:{md:"6",ms:"12"}},[a("b-form-group",{attrs:{label:"Confirme a Senha *","label-for":"user-confirm-password"}},[a("b-form-input",{class:{"is-invalid":e.$v.user.repeatPassword.$error,"is-valid":!e.$v.user.repeatPassword.$invalid},attrs:{id:"user-confirm-password",type:"password",required:"",placeholder:"Confirme a Senha"},on:{change:function(t){e.$v.user.repeatPassword.$touch()}},model:{value:e.user.repeatPassword,callback:function(t){e.$set(e.user,"repeatPassword",t)},expression:"user.repeatPassword"}}),a("span",{staticClass:"valid-feedback"},[e._v("Senhas São Iguais")]),a("span",{staticClass:"invalid-feedback"},[e._v("Preencher a senha")])],1)],1)],1),a("b-row",{directives:[{name:"show",rawName:"v-show",value:"save"===e.mode,expression:"mode === 'save'"}]},[a("b-col",{attrs:{md:"6",ms:"12"}},[a("b-form-group",{attrs:{label:"Pergunta secreta*","label-for":"user-question"}},[a("b-form-input",{class:{"is-invalid":e.$v.user.question.$error,"is-valid":!e.$v.user.question.$invalid},attrs:{id:"user-question",type:"text",required:"",placeholder:"Escreva uma pergunta secreta"},on:{change:function(t){e.$v.user.question.$touch()}},model:{value:e.user.question,callback:function(t){e.$set(e.user,"question",t)},expression:"user.question"}}),a("span",{staticClass:"valid-feedback"},[e._v("Pergunta valida")]),a("span",{staticClass:"invalid-feedback"},[e._v("Preencher a pergunta")])],1)],1),a("b-col",{attrs:{md:"6",ms:"12"}},[a("b-form-group",{attrs:{label:"Escreva uma resposta*","label-for":"user-answer"}},[a("b-form-input",{class:{"is-invalid":e.$v.user.answer.$error,"is-valid":!e.$v.user.answer.$invalid},attrs:{id:"user-answer",type:"text",required:"",placeholder:"Escreva a respota"},on:{change:function(t){e.$v.user.answer.$touch()}},model:{value:e.user.answer,callback:function(t){e.$set(e.user,"answer",t)},expression:"user.answer"}}),a("span",{staticClass:"valid-feedback"},[e._v("resposta valida")]),a("span",{staticClass:"invalid-feedback"},[e._v("Preencher a resposta")])],1)],1)],1)],1),a("div",{staticClass:"modal-footer"},[a("b-button",{attrs:{variant:"warning "},on:{click:[function(t){e.clearForm()},function(t){t.preventDefault(),e.$v.$reset()}]}},[e._v(" Limpar Campos")]),a("b-button",{attrs:{variant:"danger"},on:{click:[function(t){e.hideModal()},function(t){t.preventDefault(),e.$v.$reset()}]}},[e._v(" Cancelar")]),a("b-button",{attrs:{variant:"success"},on:{click:[function(t){e.save()},function(t){t.preventDefault(),e.$v.$touch()}]}},[e._v(" Salvar")])],1)],1),a("div",{staticClass:"option-table"},[a("b-row",[a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Itens por página"}},[a("b-form-select",{staticClass:"mb-3",attrs:{id:"item-por-pagina",type:"text",options:e.optionsperpage,"value-field":"item","text-field":"name","disabled-field":"notEnabled"},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1),a("b-col",{attrs:{md:"5",offset:"0"}},[a("label",[e._v("Pesquisa")]),a("b-input-group",[a("b-form-input",{attrs:{md:"9",id:"campoPesquisa",type:"search",placeholder:"nome, marca, data ou qualquer outro valor"},model:{value:e.termoPesquisa,callback:function(t){e.termoPesquisa=t},expression:"termoPesquisa"}}),a("b-form-group-append",[a("b-button",{attrs:{type:"reset",variant:"danger"},on:{click:function(t){e.clearSearch()}}},[e._v("Limpar")])],1)],1)],1)],1)],1),a("hr"),a("b-table",{attrs:{id:"table-users",hover:"",striped:"",filter:e.termoPesquisa,items:e.users,fields:e.fields,"per-page":e.perPage,"current-page":e.currentPage,small:""},on:{filtered:e.onFiltered},scopedSlots:e._u([{key:"actions",fn:function(t){return[a("b-button",{attrs:{variant:"danger"},on:{click:function(a){e.remove(t.item)}}},[a("i",{staticClass:"fa fa-trash"})])]}}])}),a("b-pagination",{attrs:{"total-rows":e.rows,"per-page":e.perPage,"aria-controls":"table-users","first-text":"Primeiro","prev-text":"Anterior","next-text":"Próximo","last-text":"Último"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)},Re=[];function We(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,s)}return a}function Ve(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?We(Object(a),!0).forEach(function(t){Object(ue["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):We(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var He={name:"UserAdmin",components:{PageTitle:le},computed:{rows:function(){return this.users.length}},data:function(){return{termoPesquisa:null,mode:"save",perPage:5,currentPage:1,user:{first_name:"",last_name:"",username:"",email:"",password:"",repeatPassword:"",admin:"",question:"",answer:""},users:[],fields:[{key:"username",label:"Nome Usuário",sortable:!0},{key:"first_name",label:"Primeiro Nome",sortable:!0},{key:"last_name",label:"Sobrenome",sortable:!0},{key:"email",label:"E-mail",sortable:!0},{key:"is_superuser",label:"Administrador",sortable:!0,formatter:function(e){return e?"Sim":"Não"}},{key:"actions",label:"Ações"}],optionsperpage:[{item:5,name:"5"},{item:10,name:"10"},{item:15,name:"15"},{item:20,name:"20"},{item:25,name:"25"},{item:30,name:"30"}]}},validations:{user:{first_name:{required:Pe["required"],minLength:Object(Pe["minLength"])(4),maxLength:Object(Pe["maxLength"])(100)},last_name:{required:Pe["required"],minLength:Object(Pe["minLength"])(4),maxLength:Object(Pe["maxLength"])(100)},username:{required:Pe["required"],minLength:Object(Pe["minLength"])(6),maxLength:Object(Pe["maxLength"])(16)},email:{required:Pe["required"],email:Pe["email"]},password:{required:Pe["required"],minLength:Object(Pe["minLength"])(8),maxLength:Object(Pe["maxLength"])(16)},repeatPassword:{required:Pe["required"],minLength:Object(Pe["minLength"])(8),maxLength:Object(Pe["maxLength"])(16),sameAsPassword:Object(Pe["sameAs"])("password")},question:{required:Pe["required"],minLength:Object(Pe["minLength"])(8),maxLength:Object(Pe["maxLength"])(256)},answer:{required:Pe["required"],minLength:Object(Pe["minLength"])(1),maxLength:Object(Pe["maxLength"])(256)}}},methods:{hideModal:function(){this.$refs["modal-1"].hide(),this.reset()},loadUsers:function(){var e=this,t="".concat(b,"/total_users/");ke.a.get(t,{headers:{Authorization:"JWT "+localStorage.getItem(f)}}).then(function(t){e.users=t.data})},reset:function(){this.mode="save",this.user={},this.loadUsers()},save:function(){var e=this;this.$v.user.$invalid||void 0===this.user.id&&ke.a.post("".concat(b,"/users/"),this.user,{headers:{Authorization:"JWT "+localStorage.getItem(f)}}).then(function(){e.$toasted.global.defaultSuccess(),e.hideModal(),e.reset(),e.loadUsers(),e.$v.$reset()}).catch(function(){alert("Não foi possivel realizar a operação")})},remove:function(e){var t=this;this.user=Ve({},e),confirm("Desejar realmente deletar o usuario ".concat(this.user.username,"?"))&&ke.a.post("".concat(b,"/delete_user/").concat(this.user.username),this.user,{headers:{Authorization:"JWT "+localStorage.getItem(f)}}).then(function(){t.$toasted.global.defaultSuccess(),t.reset(),t.loadUsers()}).catch(function(){alert("Não foi possivel realizar a operação")})},loadUser:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"save";this.mode=t,this.user=Ve({},e)},clearForm:function(){this.mode="save",this.user={}},clearSearch:function(){this.termoPesquisa=""},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1}},mounted:function(){this.loadUsers()}},Ge=He,Be=Object(k["a"])(Ge,Fe,Re,!1,null,null,null),Qe=Be.exports,Ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"acordion",attrs:{role:"tablist"}},[a("PageTitle",{attrs:{main:"Relatórios",icon:"fa fa-print"}}),a("b-card",{attrs:{header:"Relatórios","bg-variant":"light"}},[a("div",[a("b-button",{staticClass:"fa fa-refresh",attrs:{variant:"success"},on:{click:function(t){e.updateTable()}}},[a("span",[e._v(" Atualizar")])])],1),a("hr"),a("b-button-group",[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"all_items",expression:"'all_items'"}]},[e._v("Itens disponíveis")]),a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"items_minimum_stock",expression:"'items_minimum_stock'"}]},[e._v("Estoque Minimo")]),a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"items_expired",expression:"'items_expired'"}]},[e._v("Itens Vencidos")]),a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"items_near_expires",expression:"'items_near_expires'"}]},[e._v("Itens Próximos a Vencer")]),a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"items_history",expression:"'items_history'"}]},[e._v("Histórico Geral")])],1)],1),a("b-collapse",{attrs:{id:"all_items",accordion:"my-accordion",role:"tabpanel"}},[a("b-card",{attrs:{role:"tab"}},[a("b-button",{attrs:{variant:"danger"},on:{click:function(t){e.createPDF("table-all-items","Todos os Itens")}}},[e._v("Exportar")]),a("b-table",{attrs:{id:"table-all-items",hover:"",striped:"",items:e.items,fields:e.fields,small:""}})],1)],1),a("b-collapse",{attrs:{id:"items_minimum_stock",accordion:"my-accordion",role:"tabpanel"}},[a("b-card",{attrs:{role:"tab"}},[a("b-button",{attrs:{variant:"danger"},on:{click:function(t){e.createPDF("table-minimum-stock","Itens em Estoque Minimo")}}},[e._v("Exportar")]),a("table_item"),a("b-table",{attrs:{id:"table-minimum-stock",hover:"",striped:"",items:e.items_minimum_stock,fields:e.fields,small:""}})],1)],1),a("b-collapse",{attrs:{id:"items_expired",accordion:"my-accordion",role:"tabpanel"}},[a("b-card",{attrs:{role:"tab"}},[a("b-button",{attrs:{variant:"danger"},on:{click:function(t){e.createPDF("table-expired","Itens Vencidos")}}},[e._v("Exportar")]),a("b-table",{attrs:{id:"table-expired",hover:"",striped:"",items:e.itemsExpired,fields:e.fields,small:""}})],1)],1),a("b-collapse",{attrs:{id:"items_near_expires",accordion:"my-accordion",role:"tabpanel"}},[a("b-card",{attrs:{role:"tab"}},[a("b-button",{attrs:{variant:"danger"},on:{click:function(t){e.createPDF("table-near-expires","Itens Próximos de Vencer")}}},[e._v("Exportar")]),a("b-table",{attrs:{id:"table-near-expires",hover:"",striped:"",items:e.itemsNearExpires,fields:e.fields,small:""}})],1)],1),a("b-collapse",{attrs:{id:"items_history",accordion:"my-accordion",role:"tabpanel"}},[a("b-card",{attrs:{role:"tab"}},[a("b-button",{attrs:{variant:"danger"},on:{click:function(t){e.createPDF("table-history","Itens Histórico")}}},[e._v("Exportar")]),a("b-table",{attrs:{id:"table-history",hover:"",striped:"",items:e.itemsHistory,fields:e.fields,small:""}})],1)],1)],1)},Xe=[],Ye=a("8baf"),Ze=(a("0da4"),{name:"Relatorios",components:{PageTitle:le},data:function(){return{items:[],items_minimum_stock:[],itemsExpired:[],itemsNearExpires:[],itemsHistory:[],fields:[{key:"id",label:"ID",sortable:!0},{key:"name",label:"Nome",sortable:!0},{key:"unit",label:"Unidade",sortable:!0},{key:"brand",label:"Marca",sortable:!0},{key:"cost_value",label:"Preço de custo",sortable:!0},{key:"current_inventory",label:"E. Atual",sortable:!0},{key:"minimum_stock",label:"Estoque Mín",sortable:!0},{key:"validaty",label:"Validade",sortable:!0}]}},methods:{loadItems:function(){var e=this,t="".concat(b,"/items_total/");ke.a.get(t,{headers:{Authorization:"JWT "+localStorage.getItem(f)}}).then(function(t){e.items=t.data})},loadItemsMinimumStock:function(){var e=this,t="".concat(b,"/items_minimum_stock/");ke.a.get(t,{headers:{Authorization:"JWT "+localStorage.getItem(f)}}).then(function(t){e.items_minimum_stock=t.data})},loadItemsexpired:function(){var e=this,t="".concat(b,"/items_expired/");ke.a.get(t,{headers:{Authorization:"JWT "+localStorage.getItem(f)}}).then(function(t){e.itemsExpired=t.data})},loadItemsNearExpires:function(){var e=this,t="".concat(b,"/items_near_expires/");ke.a.get(t,{headers:{Authorization:"JWT "+localStorage.getItem(f)}}).then(function(t){e.itemsNearExpires=t.data})},loadItemsHistory:function(){var e=this,t="".concat(b,"/items/");ke.a.get(t,{headers:{Authorization:"JWT "+localStorage.getItem(f)}}).then(function(t){e.itemsHistory=t.data})},updateTable:function(){this.loadItems(),this.loadItemsMinimumStock(),this.loadItemsexpired(),this.loadItemsNearExpires(),this.loadItemsHistory()},createPDF:function(e,t){var a=new Ye["jsPDF"];a.autoTable({html:"#"+e}),a.text(t,10,10),a.save(t+".pdf")}},mounted:function(){this.loadItems(),this.loadItemsMinimumStock(),this.loadItemsexpired(),this.loadItemsNearExpires(),this.loadItemsHistory()}}),et=Ze,tt=Object(k["a"])(et,Ke,Xe,!1,null,null,null),at=tt.exports,st=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"auth-content"},[s("div",{staticClass:"auth-modal"},[s("img",{attrs:{src:a("bca0"),width:"200",alt:"Logo"}}),s("hr"),s("div",{staticClass:"auth-title"}),s("b-input",{attrs:{id:"user-name",type:"text",placeholder:"Nome usuário"},model:{value:e.userLogin.username,callback:function(t){e.$set(e.userLogin,"username",t)},expression:"userLogin.username"}}),s("b-input",{attrs:{type:"password",placeholder:"Senha"},model:{value:e.userLogin.password,callback:function(t){e.$set(e.userLogin,"password",t)},expression:"userLogin.password"}}),s("button",{on:{click:e.signin}},[e._v("Entrar")]),s("br"),s("div",[s("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}]},[e._v("Esqueceu a Senha? Recupere Aqui!")]),s("b-modal",{ref:"modal-1",attrs:{id:"modal-1","hide-footer":"",title:"Recuperar Senha"}},[s("b-form",[s("b-input",{attrs:{id:"user-name1",type:"text",placeholder:"Nome usuário"},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}}),s("b-input",{attrs:{id:"user-email",type:"text",placeholder:"Email"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),s("div",{staticClass:"modal-footer"},[s("b-button",{on:{click:[function(t){e.hideModal()},function(t){t.preventDefault(),e.$v.$reset()}]}},[e._v("\n            Cancelar")]),s("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal2",modifiers:{modal2:!0}}],on:{click:[function(t){e.save()},function(t){t.preventDefault(),e.$v.$touch()},function(t){e.reset()}]}},[e._v("\n            Recuperar")])],1)],1),s("b-modal",{ref:"modal2",attrs:{id:"modal-2","hide-footer":"",title:"Recuperar Senha"}},[s("b-form",[s("label",[e._v(e._s(e.question))]),s("b-input",{attrs:{id:"user-answer",type:"text",placeholder:"Resposta da pergunta chave"},model:{value:e.user.answer,callback:function(t){e.$set(e.user,"answer",t)},expression:"user.answer"}}),s("b-input",{class:{"is-invalid":e.$v.user.password.$error,"is-valid":!e.$v.user.password.$invalid},attrs:{id:"user-password",type:"password",required:"",placeholder:"Nova Senha"},on:{change:function(t){e.$v.user.password.$touch()}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),s("b-input",{class:{"is-invalid":e.$v.user.repeatPassword.$error,"is-valid":!e.$v.user.repeatPassword.$invalid},attrs:{id:"user-confirm-password",type:"password",required:"",placeholder:"Confirme a Senha"},on:{change:function(t){e.$v.user.repeatPassword.$touch()}},model:{value:e.user.repeatPassword,callback:function(t){e.$set(e.user,"repeatPassword",t)},expression:"user.repeatPassword"}})],1),s("div",{staticClass:"modal-footer"},[s("b-button",{on:{click:[function(t){e.hideModal2()},function(t){t.preventDefault(),e.$v.$reset()}]}},[e._v("\n            Cancelar")]),s("b-button",{on:{click:[function(t){e.save2()},function(t){t.preventDefault(),e.$v.$touch()},function(t){e.reset()}]}},[e._v("\n            Alterar senha")])],1)],1)],1)],1)])},rt=[],it=(a("28a5"),{name:"Auth",data:function(){return{showSignup:!1,user:{first_name:"",username:"",email:"",password:"",repeatPassword:"",answer:""},emailSave:"",question:"",step:!1,userLogin:{username:"",password:""}}},validations:{user:{namesave:"",username:{required:Pe["required"]},email:{required:Pe["required"]},password:{required:Pe["required"],minLength:Object(Pe["minLength"])(8),maxLength:Object(Pe["maxLength"])(16)},repeatPassword:{required:Pe["required"],minLength:Object(Pe["minLength"])(8),maxLength:Object(Pe["maxLength"])(16),sameAsPassword:Object(Pe["sameAs"])("password")}}},methods:{getPayload:function(e){var t=e.split(".")[1];return JSON.parse(window.atob(t))},signin:function(){var e=this;ke.a.post("".concat(b,"/authenticate/"),this.userLogin).then(function(t){localStorage.setItem(f,t.data.token),e.$store.commit("setUser",e.getPayload(t.data.token)),e.$router.push({path:"/"})}).catch(function(){alert("Dados não encontrados")})},signup:function(){var e=this;ke.a.post("".concat(b,"/signup"),this.userLogin).then(function(){e.$toasted.global.defaultSuccess(),e.$store.commit("setUser",null),e.userLogin={},e.showSignup=!1}).catch(p)},save:function(){var e=this;this.namesave=this.user.username,this.emailSave=this.user.email,ke.a.post("".concat(b,"/get_question/"),this.user).then(function(t){e.$toasted.global.defaultSuccess(),e.question=t.data.question,void 0!=e.question&&e.$refs["modal2"].show(),e.$v.$reset()}).catch(function(){alert("Dados inválidos")})},save2:function(){var e=this;this.user.username=this.namesave,this.user.email=this.emailSave,this.$v.user.$invalid||ke.a.post("".concat(b,"/newpassword/"),this.user).then(function(){e.$toasted.global.defaultSuccess(),e.showSignup=!1,e.user={},e.hideModal2(),e.$v.$reset()}).catch(function(){alert("Dados inválidos")})},hideModal:function(){this.$refs["modal-1"].hide(),this.reset()},hideModal2:function(){this.$refs["modal2"].hide(),this.reset()},reset:function(){this.mode="save",this.user={}}}}),ot=it,nt=(a("ee68"),Object(k["a"])(ot,st,rt,!1,null,null,null)),lt=nt.exports;s["a"].use(Z["a"]);var ct=new Z["a"]({mode:"history",history:!0,routes:[{name:"auth",path:"/auth",component:lt},{path:"/",component:we,beforeEnter:function(e,t,a){ge()?a():a("/auth")}},{path:"/admin/Relatorios",component:at,beforeEnter:function(e,t,a){ge()?a():a("/auth")}},{path:"/admin/ItemAdmin",component:Le,meta:{permission:"adm"},beforeEnter:function(e,t,a){ge()?a():a("/auth")}},{path:"/admin/EstoqueAdmin",component:Je,beforeEnter:function(e,t,a){ge()?a():a("/auth")}},{path:"/admin/UserAdmin",component:Qe,beforeEnter:function(e,t,a){ge()?a():a("/auth")}}]}),ut=a("d842"),dt=a("30ef"),mt=a.n(dt);s["a"].use(ut["a"].use(mt.a)),s["a"].config.productionTip=!1,s["a"].use(i.a),new s["a"]({store:Y,router:ct,render:function(e){return e(B)}}).$mount("#app")},"6eda":function(e,t,a){},"82f9":function(e,t,a){},9551:function(e,t,a){"use strict";var s=a("6eda"),r=a.n(s);r.a},"9f20":function(e,t,a){},"9f34":function(e,t,a){"use strict";var s=a("08f2"),r=a.n(s);r.a},a09f:function(e,t,a){"use strict";var s=a("52d3"),r=a.n(s);r.a},a405:function(e,t,a){"use strict";var s=a("dda0"),r=a.n(s);r.a},bca0:function(e,t,a){e.exports=a.p+"img/Logo.f38c98ad.png"},c21b:function(e,t,a){},dda0:function(e,t,a){},ee68:function(e,t,a){"use strict";var s=a("9f20"),r=a.n(s);r.a},f587:function(e,t,a){}});
//# sourceMappingURL=app.26429ed6.js.map